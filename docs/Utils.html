<!DOCTYPE html>

<html>
<head>
  <title>Utils.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="Compiler.html">
                Compiler.coffee
              </a>
            
              
              <a class="source" href="Player.html">
                Player.coffee
              </a>
            
              
              <a class="source" href="Renderer.html">
                Renderer.coffee
              </a>
            
              
              <a class="source" href="Spectrum.html">
                Spectrum.coffee
              </a>
            
              
              <a class="source" href="Utils.html">
                Utils.coffee
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>Utils.coffee</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>define [], <span class="function"><span class="params">()</span> -&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h1 id="array-utils">Array Utils</h1>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Returns a randomized copy of the supplied Array</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Array.<span class="function"><span class="title">shuffle</span> = <span class="params">(a)</span> -&gt;</span>
        result = []
        copy = a.slice()
        console.log copy
        <span class="keyword">while</span> copy.length &gt; <span class="number">0</span>
            r = Math.floor Math.random() * copy.length
            result.push copy.splice(r, <span class="number">1</span>)[<span class="number">0</span>]
        <span class="keyword">return</span> result</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <h1 id="math-utils">Math Utils</h1>

            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>CONSTANTS</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Math.TWO_PI = Math.PI * <span class="number">2</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Returns the distance between two points</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Math.<span class="function"><span class="title">distance</span> = <span class="params">(x1, y1, x2, y2)</span> -&gt;</span>
        dx = x1 - x2
        dy = y1 - y2
        dx *= dx
        dy *= dy 
        <span class="keyword">return</span> Math.sqrt(dx + dy)</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Interpolates a value between 0.0 and 1.0 to a correspondig value between min and max</p>
<pre><code>Math.interpolateLin(.2, 0, 100) # 20</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Math.<span class="function"><span class="title">interpolateLin</span> = <span class="params">(n, min, max)</span> -&gt;</span>
        <span class="keyword">return</span> min + ((max - min) * n)</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Returns a value between 0.0 and 1.0 corresponding to the percentage of n between min and max</p>
<pre><code>Math.normalize(50, 0, 100) # .5</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Math.<span class="function"><span class="title">normalize</span> = <span class="params">(n, min, max)</span> -&gt;</span>
        <span class="keyword">return</span> (n - min) / (max - min)</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Returns a random number between the supplied range
Provide optional argument of true as third param to return an integer</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Math.<span class="function"><span class="title">randomInRange</span> = <span class="params">(min, max, round=<span class="literal">false</span>)</span> -&gt;</span>
        n = min + (max - min) * Math.random() 
        <span class="keyword">if</span> round
            <span class="keyword">return</span> Math.round(n)
        <span class="keyword">return</span> n</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Rounds to the nearest decimal</p>
<pre><code>Math.roundTo(3.219, 2) # 3.22</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Math.<span class="function"><span class="title">roundTo</span> = <span class="params">(n, decimals)</span> -&gt;</span>
        <span class="keyword">return</span> Math.round(n * Math.pow(<span class="number">10</span>, decimals)) / Math.pow(<span class="number">10</span>, decimals)</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Returns a value rounded to the nearest integer multiple</p>
<pre><code>Math.roundToMultiple(28, 5) # 30</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Math.<span class="function"><span class="title">roundToMultiple</span> = <span class="params">(n, multiple)</span> -&gt;</span>
        <span class="keyword">return</span> multiple * Math.round((n/multiple))</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Converts a value in degrees to radians</p>
<pre><code>Math.toRadians(90) # 1.5707963267948966</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Math.<span class="function"><span class="title">toRadians</span> = <span class="params">(degrees)</span> -&gt;</span>
        <span class="keyword">return</span> Math.PI * degrees / <span class="number">180</span></pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Transposes a value from one range to another</p>
<pre><code>Math.transpose(40, 30, 50, 0, 1) # .5</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Math.<span class="function"><span class="title">transpose</span> = <span class="params">(n, min1, max1, min2, max2)</span> -&gt;</span>
        <span class="keyword">return</span> Math.interpolateLin(Math.normalize(n, min1, max1), min2, max2)</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
